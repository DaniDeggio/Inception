events { # empty for default settings
}

http {

	include /etc/nginx/mime.types; # map file extensions to MIME types (e.g. .html -> text/html)
	server { # server block for the site dde-giov.42.fr
		listen 443 ssl; # port for https

		ssl_certificate  /etc/nginx/ssl/inception.crt; # path to certificate
		ssl_certificate_key /etc/nginx/ssl/inception.key; # path to key
		ssl_protocols TLSv1.3; # protocol tls

		server_name dde-giov.42.fr; # domain of the site

		location / { # location block for the root directory
			root /var/www/wordpress; # root directory of the site
			index index.php; # default file to load
		}

		location ~ \.php$ { # location block for handling php files
			include snippets/fastcgi-php.conf; # config of fastcgi
			fastcgi_pass wordpress:9000; # send php requests to (fastcgi) wordpress container
		}
	}
}
